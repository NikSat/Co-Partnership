@model ProductViewModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutWithSide.cshtml";
}


@{if (Model.CurrentCategory == null)
    { <h2 class=" text-center ">All Products</h2> }
    else
    {
        <h2 class="text-center text-md-left">@Model.CurrentCategory</h2>
    }
}

<div class="row ml-auto">

    @foreach (var item in Model.Products)
    {

        <div class=" col-12 col-sm-6 col-md-4 col-lg-3 ">
            <div class="card text-center">
                <a asp-action="Product" asp-route-id="@item.Id">
                    <div class="wrapper">
                        <div class="card-img-top" style="background-image:url('@item.Image');height:140px;">
                            @*<img class="" src="" alt="Card image cap">*@
                        </div>
                    </div>
                </a>
                <div class="card-body">
                    <div>
                        <a class="fancy-underline d-inline-block" asp-action="Product" asp-route-id="@item.Id">
                            <h5 class="card-title">@Html.DisplayFor(modelItem => item.Name)</h5>
                        </a>
                    </div>
                    <div>
                        <a class="fancy-underline d-inline-block card-link" asp-route="category" asp-route-category="@item.Category" asp-route-productPage="1" > @item.Category</a>
                    </div>
                    <p class="card-text">@Html.DisplayFor(modelItem => item.Description)</p>
                    <p class="card-text">@Html.DisplayFor(modelItem => item.UnitPrice) / @item.UnitType</p>
                    <div class="custom-position">

                        @if (item.StockQuantity > 0)
                        {
                            <span class="fa fa-check-circle-o" aria-hidden="true" data-toggle="tooltip" title="Available"></span>
                        }
                        else
                        {
                            <span class="fa fa-times-circle-o" aria-hidden="true" data-toggle="tooltip" title="Unavailable"></span>

                        }
                    </div>
                    @*onclick="location.href='<%: Url.Action("Action", "Cart") %>'"*@
                    <div class="btn-group d-flex" role="group">
                        <a href="" class="btn btn-secondary w-100">Like</a>
                        @if (item.StockQuantity > 0)
                        {
                            <a href="" class="btn btn-secondary w-100">Buy</a>
                        }
                        else
                        {
                            <a href="" class="btn btn-secondary w-100 disabled">Buy</a>

                        }
                    </div>
                </div>
            </div>



        </div>
    }
    <div class="col-12 mt-4">
        <nav class="btn-group">
            @* Emfanizoume  ta hyperlinks twn selidwn mono an einai prossoteres apo mia *@
            @for (int i = 1; i <= Model.PagingInfo.TotalPages && Model.PagingInfo.TotalPages > 1; i++)
            {
                @if (Model.CurrentCategory == null)
                {
                    <a class="btn @(i == Model.PagingInfo.CurrentPage ? "btn-primary" : "btn-secondary")" asp-route="pagination" asp-route-productPage="@i">@i</a>
                }
                else
                {
                    <a class="btn @(i == Model.PagingInfo.CurrentPage ? "btn-primary" : "btn-secondary")" asp-route="category" asp-route-category="@Model.CurrentCategory" asp-route-productPage="@i">@i</a>
                }
            }
        </nav>
    </div>

</div>
@*   <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Category)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Quantity)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsLive)
        </td>
        <td>
            <a asp-action="Product" asp-route-id="@item.Id">Details</a> |
            <a>Add to Cart</a> |
            <a>Add to WishList</a>
        </td>
    </tr>*@


